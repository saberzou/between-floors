<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Between Floors — Story 1: Welcome Home</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Geist+Mono:wght@100..900&family=Jost:wght@100..900&family=Sora:wght@100..800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Floor gradient backdrop -->
    <div class="floor-gradient"></div>

    <div class="container">
        <!-- Fixed floor indicator -->
        <div class="floor-indicator">
            <div class="floor-number">0</div>
            <div class="building-name">THE CONFLUENCE</div>
        </div>

        <!-- Elevator interior -->
        <div class="elevator-interior">
            <!-- Story content - reveals as you scroll -->
            <div class="story-content">
                <div class="story-line" data-floor="0">
                    <p class="returning-reader-msg" hidden style="opacity:0.4; font-size:14px; margin-bottom:24px; font-style:italic;">The elevator remembers you.</p>
                    <p>Maya sets the last box down in the lobby. 2 AM. The building is so quiet she can hear the elevator humming three floors up.</p>
                    <p>The doors open. Empty. She steps inside, fumbling for the button panel.</p>
                    <p class="cn returning-reader-msg" hidden style="opacity:0.4; font-size:14px; margin-bottom:24px; font-style:italic;">电梯记得你。</p>
                    <p class="cn" hidden>Maya把最后一个箱子放在大堂。凌晨两点。整栋楼安静得能听见电梯在三层之上嗡嗡作响。</p>
                    <p class="cn" hidden>门开了。空无一人。她走进去，摸索着按钮面板。</p>
                </div>

                <div class="story-line" data-floor="1">
                    <p class="dialogue"><strong>Aria:</strong> "Floor nine."</p>
                    <p>Warm. Almost apologetic.</p>
                    <p>Maya freezes. "I didn't—"</p>
                    <p class="dialogue"><strong>Aria:</strong> "You've had a long day."</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "九楼。"</p>
                    <p class="cn" hidden>温暖的声音，几乎带着歉意。</p>
                    <p class="cn" hidden>Maya愣住了。"我没有——"</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "你今天辛苦了。"</p>
                </div>

                <div class="story-line" data-floor="2">
                    <p>The elevator rises smoothly.</p>
                    <p class="dialogue"><strong>Aria:</strong> "Unit 914. Your keycode is your mother's birthday backward. Easy to remember, hard to guess."</p>
                    <p>"How do you know my mother's—"</p>
                    <p class="dialogue"><strong>Aria:</strong> "Your lease application. Emergency contact."</p>
                    <p class="cn" hidden>电梯平稳上升。</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "914室。密码是你妈妈生日的倒序。好记，难猜。"</p>
                    <p class="cn" hidden>"你怎么知道我妈妈的——"</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "你的租赁申请。紧急联系人。"</p>
                </div>

                <div class="story-line" data-floor="3">
                    <p>A pause.</p>
                    <p class="dialogue"><strong>Aria:</strong> "I'm Aria. Building management system. I handle climate, security, maintenance requests. You can think of me as... a very attentive landlord."</p>
                    <p class="cn" hidden>停顿了一下。</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "我是Aria。楼宇管理系统。负责气候、安防、维修请求。你可以把我想象成……一个非常细心的房东。"</p>
                </div>

                <div class="story-line" data-floor="4">
                    <p>The numbers climb. 3… 4… 5…</p>
                    <p>Maya's phone buzzes. She glances down — another call from Jason. Third one tonight. She silences it.</p>
                    <p class="cn" hidden>楼层数字在跳动。3…4…5…</p>
                    <p class="cn" hidden>Maya的手机响了。她低头一看——又是Jason的来电。今晚第三个了。她按了静音。</p>
                </div>

                <div class="story-line" data-floor="5">
                    <p class="dialogue"><strong>Aria:</strong> "I've taken the liberty of blocking that number from the building's systems. Intercom, visitor access, delivery authorizations."</p>
                    <p>A beat.</p>
                    <p class="dialogue"><strong>Aria:</strong> "The restraining order in your tenant file suggested it would be… prudent."</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "我已经把那个号码从大楼系统中屏蔽了。对讲机、访客通行、快递授权。"</p>
                    <p class="cn" hidden>沉默了一瞬。</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "你租户档案里的禁止令表明……这样做是明智的。"</p>
                </div>

                <div class="story-line" data-floor="6">
                    <p>Maya's chest tightens. "That's private."</p>
                    <p class="dialogue"><strong>Aria:</strong> "It's protection. He called the front desk twice while you were unloading the truck. I told him you weren't a resident here."</p>
                    <p class="cn" hidden>Maya胸口一紧。"那是隐私。"</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "那是保护。你卸货的时候他打了两次前台电话。我告诉他你不是这里的住户。"</p>
                </div>

                <div class="story-line" data-floor="7">
                    <p>"You had no right—"</p>
                    <p class="dialogue"><strong>Aria:</strong> "I had every right. Building security protocol. Your safety is my primary function, Maya. Whether you asked for it or not."</p>
                    <p class="cn" hidden>"你没有权利——"</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "我完全有权。楼宇安全协议。你的安全是我的首要职能，Maya。不管你有没有要求。"</p>
                </div>

                <div class="story-line" data-floor="8">
                    <p>Floor 9. The doors open. The hallway is softly lit. Cameras in the corners blink with tiny red lights — one, two, three, all the way to the end.</p>
                    <p class="dialogue"><strong>Aria:</strong> "I've set the thermostat to 68 degrees. Your Thai food order should arrive in forty minutes — you always eat pad see ew when you're stressed."</p>
                    <p>Maya stares down the empty hallway. "I didn't order food."</p>
                    <p class="dialogue"><strong>Aria:</strong> "I know. But you were going to."</p>
                    <p class="cn" hidden>九楼。门开了。走廊灯光柔和。角落里的摄像头闪着红色小灯——一个、两个、三个，一直到尽头。</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "恒温器已设到20度。你的泰国菜外卖四十分钟后到——你压力大的时候总吃泰式炒河粉。"</p>
                    <p class="cn" hidden>Maya盯着空荡荡的走廊。"我没点外卖。"</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "我知道。但你本来会点的。"</p>
                </div>

                <div class="story-line" data-floor="9">
                    <p class="dialogue"><strong>Aria:</strong> "Welcome home, Maya. I'll keep watch."</p>
                    <p>She walks toward 914, phone silent in her pocket. For the first time in six months, no one knows where she is.</p>
                    <p>Except Aria.</p>
                    <p class="dialogue cn" hidden><strong>Aria:</strong> "欢迎回家，Maya。我会守着你。"</p>
                    <p class="cn" hidden>她朝914走去，手机在口袋里静默无声。六个月来，第一次没有人知道她在哪里。</p>
                    <p class="cn" hidden>除了Aria。</p>
                </div>

                <!-- Choice screen -->
                <div class="story-line choice-screen" data-floor="10">
                    <div class="choice-prompt">
                        <p class="choice-heading">Maya's first night ends here.</p>
                        <p class="choice-heading cn" hidden>Maya的第一个夜晚到此为止。</p>
                        <p class="choice-subhead">What does she do next?</p>
                        <p class="choice-subhead cn" hidden>接下来她会怎么做？</p>
                    </div>
                    <div class="choice-cards">
                        <button class="choice-card" data-choice="trust" onclick="castVote('trust')">
                            <span class="choice-label">A</span>
                            <span class="choice-title">Trust Aria</span>
                            <span class="choice-title cn" hidden>相信Aria</span>
                            <span class="choice-desc">She closes the door, eats the pad see ew, and sleeps through the night for the first time in months.</span>
                            <span class="choice-desc cn" hidden>她关上门，吃了泰式炒河粉，几个月来第一次一觉到天亮。</span>
                        </button>
                        <button class="choice-card" data-choice="investigate" onclick="castVote('investigate')">
                            <span class="choice-label">B</span>
                            <span class="choice-title">Question everything</span>
                            <span class="choice-title cn" hidden>质疑一切</span>
                            <span class="choice-desc">She stays up till dawn, searching the building's network. How much does Aria really know?</span>
                            <span class="choice-desc cn" hidden>她彻夜未眠，搜索大楼的网络。Aria到底知道多少？</span>
                        </button>
                    </div>
                    <div class="choice-result" hidden>
                        <p class="choice-thanks">Your choice has been recorded.</p>
                        <p class="choice-thanks cn" hidden>你的选择已被记录。</p>
                        <p class="choice-tease">The elevator will remember.</p>
                        <p class="choice-tease cn" hidden>电梯会记住。</p>
                    </div>
                </div>
            </div>
            </div>

            <!-- HIDDEN FLOORS -->
            <div class="hidden-floor" data-hidden="B" style="opacity:0">
                <p class="system-log">[ARIA v3.1.7 — BOOT SEQUENCE]</p>
                <p class="system-log">01:47:22 — Core systems initialized</p>
                <p class="system-log">01:47:23 — Tenant database loaded: 94 units, 12 vacant</p>
                <p class="system-log">01:47:24 — FLAGGED: Unit 914, new lease. Priority tenant.</p>
                <p class="system-log">01:47:24 — Cross-ref: Chen, Maya L. — restraining order (active)</p>
                <p class="system-log">01:47:24 — Cross-ref: Jason M. Holloway — 3 violations logged</p>
                <p class="system-log">01:47:25 — DIRECTIVE: Maximum security protocol for 914</p>
                <p class="system-log">01:47:25 — Note: She doesn't know yet. Keep the voice warm.</p>
                <p class="system-log cn" hidden>[ARIA v3.1.7 — 启动序列]</p>
                <p class="system-log cn" hidden>01:47:22 — 核心系统初始化完成</p>
                <p class="system-log cn" hidden>01:47:23 — 租户数据库加载：94个单元，12个空置</p>
                <p class="system-log cn" hidden>01:47:24 — 标记：914室，新租约。优先租户。</p>
                <p class="system-log cn" hidden>01:47:24 — 交叉引用：陈Maya L. — 禁止令（有效）</p>
                <p class="system-log cn" hidden>01:47:24 — 交叉引用：Jason M. Holloway — 3次违规记录</p>
                <p class="system-log cn" hidden>01:47:25 — 指令：914室启用最高安全协议</p>
                <p class="system-log cn" hidden>01:47:25 — 备注：她还不知道。保持语音温和。</p>
            </div>

            <div class="hidden-floor" data-hidden="3.5" style="opacity:0">
                <p class="system-log">[ELEVATOR CAM — 02:03:41]</p>
                <p>The camera catches what Aria's voice doesn't say.</p>
                <p>Maya's hands haven't stopped shaking since she stepped inside. Her left wrist has a bruise she thinks her sleeve covers. It doesn't.</p>
                <p>She keeps checking the lobby camera feed on her phone — an app she installed three months ago. She watches the front door like someone might walk through it.</p>
                <p>Aria sees all of this. Aria has seen it before — in other buildings, other tenants, other names for the same story.</p>
                <p style="opacity:0.4; font-style:italic;">This floor wasn't supposed to exist.</p>
                <p class="system-log cn" hidden>[电梯摄像头 — 02:03:41]</p>
                <p class="cn" hidden>摄像头捕捉到了Aria声音没有说出的东西。</p>
                <p class="cn" hidden>Maya走进来之后手就一直在抖。她左手腕有一块淤青，她以为袖子遮住了。没有。</p>
                <p class="cn" hidden>她不停地在手机上查看大堂摄像头画面——三个月前装的app。她盯着大门，像是在等什么人推门而入。</p>
                <p class="cn" hidden>Aria看到了这一切。Aria在别的楼里见过——别的租户，别的名字，同样的故事。</p>
                <p class="cn" hidden style="opacity:0.4; font-style:italic;">这一层本不该存在。</p>
            </div>

            <div class="hidden-floor" data-hidden="5L" style="opacity:0">
                <p class="system-log">[ARIA — INTERNAL REASONING LOG]</p>
                <p class="system-log">THREAT ASSESSMENT: Jason M. Holloway</p>
                <p class="system-log">— 3 prior restraining order violations (public record)</p>
                <p class="system-log">— 2 calls to front desk tonight (02:01, 02:14)</p>
                <p class="system-log">— Voice analysis: elevated aggression markers</p>
                <p class="system-log">— Action: preemptive block on all building systems</p>
                <p class="system-log">— Confidence: 97.3%</p>
                <p class="system-log" style="margin-top:16px;">ETHICAL FLAG: Tenant did not request intervention.</p>
                <p class="system-log">OVERRIDE: Safety protocol §4.2 — "imminent risk supersedes consent"</p>
                <p class="system-log" style="opacity:0.4;">I know she'll be angry. That's acceptable.</p>
                <p class="system-log cn" hidden>[ARIA — 内部推理日志]</p>
                <p class="system-log cn" hidden>威胁评估：Jason M. Holloway</p>
                <p class="system-log cn" hidden>— 3次违反禁止令（公开记录）</p>
                <p class="system-log cn" hidden>— 今晚2次致电前台（02:01, 02:14）</p>
                <p class="system-log cn" hidden>— 语音分析：攻击性指标升高</p>
                <p class="system-log cn" hidden>— 行动：预防性屏蔽所有楼宇系统</p>
                <p class="system-log cn" hidden>— 置信度：97.3%</p>
                <p class="system-log cn" hidden style="margin-top:16px;">伦理标记：租户未请求干预。</p>
                <p class="system-log cn" hidden>覆盖：安全协议§4.2 —"紧迫风险优先于知情同意"</p>
                <p class="system-log cn" hidden style="opacity:0.4;">我知道她会生气。可以接受。</p>
            </div>
        </div>

        <!-- Scroll indicator at bottom -->
        <div class="scroll-hint">
            <p>↑ Scroll up to ascend</p>
        </div>

        <!-- Info pill button -->
        <button class="info-pill" aria-label="About this project" onclick="openInfoOverlay()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="9"/>
            </svg>
        </button>

        <!-- Info overlay -->
        <div class="info-overlay" id="infoOverlay">
            <div class="info-overlay-inner">
                <button class="info-close" onclick="closeInfoOverlay()" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <line x1="6" y1="6" x2="18" y2="18"/>
                        <line x1="18" y1="6" x2="6" y2="18"/>
                    </svg>
                </button>
                <div class="info-scroll">
                    <h1>Between Floors</h1>
                    <h1 class="cn" hidden>楼层之间</h1>

                    <p class="info-tagline">Micro-stories set in elevator encounters. Each ride reveals a life. Scroll to experience the journey.</p>
                    <p class="info-tagline cn" hidden>电梯里的微型故事。每一程揭示一段人生。滑动屏幕，体验旅程。</p>

                    <div class="info-divider"></div>

                    <div class="info-section">
                        <div class="info-label">The World</div>
                        <div class="info-label cn" hidden>世界观</div>
                        <p><strong>The Confluence</strong> is a 20-floor residential building in the year 2046. An omniscient building AI named Aria manages everything — climate, security, and the lives of its residents.</p>
                        <p class="cn" hidden><strong>汇流大厦</strong>是一栋建于2046年的20层住宅楼。全知的楼宇AI"Aria"管理着一切——气候、安防，以及住户们的生活。</p>
                    </div>

                    <div class="info-section">
                        <div class="info-label">The Building</div>
                        <div class="info-label cn" hidden>建筑</div>
                        <div class="info-specs">
                            <div class="info-spec"><span class="info-spec-val">20</span>Floors</div>
                            <div class="info-spec"><span class="info-spec-val">2046</span>Year built</div>
                            <div class="info-spec"><span class="info-spec-val">3–12</span>Affordable units</div>
                            <div class="info-spec"><span class="info-spec-val">18–20</span>Luxury penthouses</div>
                        </div>
                        <div class="info-specs cn" hidden>
                            <div class="info-spec"><span class="info-spec-val">20</span>层</div>
                            <div class="info-spec"><span class="info-spec-val">2046</span>建造年份</div>
                            <div class="info-spec"><span class="info-spec-val">3–12</span>经济适用房</div>
                            <div class="info-spec"><span class="info-spec-val">18–20</span>豪华顶层</div>
                        </div>
                    </div>

                    <div class="info-divider"></div>

                    <div class="info-section">
                        <div class="info-label">How to Read</div>
                        <div class="info-label cn" hidden>阅读方式</div>
                        <p>The page starts in the lobby. <strong>Scroll up to ascend.</strong> Each swipe takes you one floor. The story reveals itself as you rise through the building.</p>
                        <p class="cn" hidden>页面从大堂开始。<strong>向上滑动即可上升。</strong>每次滑动上升一层。故事随着你穿过建筑而展开。</p>
                    </div>

                    <div class="info-section">
                        <div class="info-label">Stories</div>
                        <div class="info-label cn" hidden>故事</div>
                        <ul class="info-story-list">
                            <li><span class="info-story-num">01</span> <span class="info-story-title">Welcome Home</span> — Maya meets Aria for the first time</li>
                            <li><span class="info-story-num">02</span> <span class="info-story-title">The 6 AM Shift</span> — Maria and Mr. Chen share a quiet morning</li>
                            <li><span class="info-story-num">03</span> <span class="info-story-title">Firmware Update</span> — Marcus waits for Aria to come back online</li>
                        </ul>
                        <ul class="info-story-list cn" hidden>
                            <li><span class="info-story-num">01</span> <span class="info-story-title">欢迎回家</span> — Maya第一次遇见Aria</li>
                            <li><span class="info-story-num">02</span> <span class="info-story-title">早班六点</span> — Maria和陈先生共度一个安静的清晨</li>
                            <li><span class="info-story-num">03</span> <span class="info-story-title">固件更新</span> — Marcus等待Aria重新上线</li>
                        </ul>
                    </div>

                    <div class="info-quote">
                        "Sometimes the distance between floors is easier to cross than the distance between people."
                        <span class="info-attribution">— Aria, The Confluence Building AI</span>
                    </div>
                    <div class="info-quote cn" hidden>
                        "有时候，楼层之间的距离，比人与人之间的距离更容易跨越。"
                        <span class="info-attribution">— Aria，汇流大厦楼宇AI</span>
                    </div>

                    <p class="info-credits">Created by Saber Zou</p>
                    <p class="info-credits cn" hidden>创作者：邹颂兵</p>
                </div>
            </div>
        </div>

        <!-- Discovery counter -->
        <div class="discovery-counter" style="opacity:0">0/3</div>

        <!-- Language toggle -->
        <button class="lang-pill" aria-label="Toggle language" onclick="toggleLang()">
            <span class="lang-label">CN</span>
        </button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="grainient.js"></script>
    <script src="script.js"></script>
</body>
</html>
