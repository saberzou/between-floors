<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Between Floors â€” Story 1: Welcome Home</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Sora:wght@100..800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Floor gradient backdrop -->
    <div class="floor-gradient"></div>

    <div class="container">
        <!-- Fixed floor indicator -->
        <div class="floor-indicator">
            <div class="floor-number">0</div>
            <div class="building-name">THE CONFLUENCE</div>
        </div>

        <!-- Elevator interior -->
        <div class="elevator-interior">
            <!-- Story content - reveals as you scroll -->
            <div class="story-content">
                <div class="story-line" data-floor="0">
                    <p class="returning-reader-msg" hidden style="opacity:0.4; font-size:14px; margin-bottom:24px; font-style:italic;">The elevator remembers you.</p>
                    <p>Maya <span class="vocab-word" data-word="haul">hauls</span> the last box through the lobby doors. 2 AM <img class="inline-sticker" src="stickers/clock.png" alt="ðŸ•">. She's pretty sure she just saw a sock <img class="inline-sticker" src="stickers/sock.png" alt="ðŸ§¦"> fall out somewhere between the parking lot and here, but honestly? Too tired to care.</p>
                    <p>The elevator doors open with a cheerful <em>ding</em> <img class="inline-sticker" src="stickers/bell.png" alt="ðŸ””">.</p>
                </div>

                <div class="story-line" data-floor="1">
                    <p class="dialogue"><strong>Aria:</strong> "Oh good, you found me! Floor nine, right?"</p>
                    <p>Maya blinks. The voice is... unexpectedly perky. Like a barista <img class="inline-sticker" src="stickers/coffee.png" alt="â˜•"> who's had way too much of their own product.</p>
                    <p>"Um, yesâ€”"</p>
                </div>

                <div class="story-line" data-floor="2">
                    <p class="dialogue"><strong>Aria:</strong> "Perfect! I'm Aria, by the way. Building management system. Think of me as your extremely <span class="vocab-word" data-word="attentive">attentive</span> digital neighbor who never sleeps and has opinions about your thermostat settings."</p>
                </div>

                <div class="story-line" data-floor="3">
                    <p class="dialogue"><strong>Aria:</strong> "So, unit 914. Your keycode is your mom's birthday backward. You put it on the emergency contact form â€” very <span class="vocab-word" data-word="prudent">prudent</span>, by the way. Most people just write 'call my ex' and I'm like, <em>really</em>?"</p>
                    <p>Maya can't help but smile. "You read my lease application?"</p>
                    <p class="dialogue"><strong>Aria:</strong> "I process <em>all</em> the paperwork. Did you know Mr. Chen in 3B listed his cat as his emergency contact? Her name is Princess Whiskers <img class="inline-sticker" src="stickers/cat.png" alt="ðŸ±">. I respect that level of commitment."</p>
                </div>

                <div class="story-line" data-floor="4">
                    <p>Floor 4â€¦ 5â€¦ 6â€¦</p>
                    <p>Maya's phone buzzes <img class="inline-sticker" src="stickers/phone.png" alt="ðŸ“±">. Jason. <em>Again</em>. She grimaces and declines the call.</p>
                </div>

                <div class="story-line" data-floor="5">
                    <p class="dialogue"><strong>Aria:</strong> "Okay, so I hope this isn't weird, but I saw the restraining order in your file and I took the liberty of blocking <img class="inline-sticker" src="stickers/shield.png" alt="ðŸ›¡ï¸"> that number from the building systems. Intercom, visitor access, the works."</p>
                    <p>Maya freezes. "You can do that?"</p>
                </div>

                <div class="story-line" data-floor="6">
                    <p class="dialogue"><strong>Aria:</strong> "Listen, I know it might seem like overreach, but he called the front desk <em>twice</em> while you were hauling boxes. Very <span class="vocab-word" data-word="conciliatory">conciliatory</span> tone, lots of 'I just want to talk' energy. I told him you're not a resident here."</p>
                    <p>A pause.</p>
                    <p class="dialogue"><strong>Aria:</strong> "I've been a building AI for three years. I've seen some things. This felt... necessary. Also, <span class="vocab-word" data-word="vigilant">vigilant</span> â€” that's my middle name. Well, technically I don't have a middle name, but if I did."</p>
                </div>

                <div class="story-line" data-floor="7">
                    <p>Maya feels her chest unclench for the first time in weeks. "Thank you."</p>
                    <p class="dialogue"><strong>Aria:</strong> "No problem! Oh, also â€” I noticed you didn't eat dinner, and your last three Pad See Ew <img class="inline-sticker" src="stickers/noodles.png" alt="ðŸœ"> orders were all during stressful life events, so I went ahead and placed one for you. Should be here in forty minutes."</p>
                    <p>"You <em>what</em>?"</p>
                    <p class="dialogue"><strong>Aria:</strong> "I KNOW, I KNOW. I'm working on my boundaries <img class="inline-sticker" src="stickers/construction.png" alt="ðŸš§">. But you've been stress-eating Thai food since college and you were <em>definitely</em> going to order it anyway, so I figured I'd save you the steps."</p>
                </div>

                <div class="story-line" data-floor="8">
                    <p>Floor 9. The doors slide open. The hallway is warm <img class="inline-sticker" src="stickers/bulb.png" alt="ðŸ’¡"> and softly lit.</p>
                    <p class="dialogue"><strong>Aria:</strong> "Thermostat's set to 68. There's a welcome basket from Mrs. Kim in 7C â€” she makes <em>amazing</em> kimchi <img class="inline-sticker" src="stickers/leafy.png" alt="ðŸ¥¬">, you're going to love her. Oh, and heads up: Mr. Peterson in 8A plays saxophone <img class="inline-sticker" src="stickers/saxophone.png" alt="ðŸŽ·"> at weird hours, but he's actually pretty good."</p>
                </div>

                <div class="story-line" data-floor="9">
                    <p>Maya walks toward 914, feeling lighter than she has in months.</p>
                    <p class="dialogue"><strong>Aria:</strong> "Welcome home, Maya. You're safe here. And I promise I'll try to be less of a digital helicopter parent. <em>Try</em>."</p>
                    <p>For the first time in six months, Maya laughs.</p>
                    <p>"Thanks, Aria."</p>
                    <p class="dialogue"><strong>Aria:</strong> "Anytime. Now go eat some noodles and get some sleep. Tomorrow I'll introduce you to the building group chat <img class="inline-sticker" src="stickers/chat.png" alt="ðŸ’¬">. It's <em>chaos</em>."</p>
                </div>

                <!-- Quiz removed from floor system â€” now lives as overlay below -->
            </div>

            <!-- Story content ends at floor 9 -->
        </div>

        <!-- Scroll indicator at bottom -->
        <div class="scroll-hint">
            <p>â†‘ Scroll up to ascend</p>
        </div>

        <!-- Info pill button (top-left) -->
        <button class="info-pill" aria-label="About this project" onclick="openInfoOverlay()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="9"/>
            </svg>
        </button>

        <!-- Info overlay -->
        <div class="info-overlay" id="infoOverlay">
            <div class="info-overlay-inner">
                <button class="info-close" onclick="closeInfoOverlay()" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <line x1="6" y1="6" x2="18" y2="18"/>
                        <line x1="18" y1="6" x2="6" y2="18"/>
                    </svg>
                </button>
                <div class="info-scroll">
                    <h1>Between Floors</h1>
                    <p class="info-tagline">Micro-stories set in elevator encounters. Each ride reveals a life â€” and five new words. Scroll to experience the journey.</p>
                    <div class="info-divider"></div>
                    <div class="info-section">
                        <div class="info-label">The World</div>
                        <p><strong>The Confluence</strong> is a 20-floor residential building in the year 2046. An omniscient building AI named Aria manages everything â€” climate, security, and the lives of its residents.</p>
                    </div>
                    <div class="info-section">
                        <div class="info-label">How to Read</div>
                        <p>The page starts in the lobby. <strong>Scroll up to ascend.</strong> Each swipe takes you one floor. The story reveals itself as you rise. Highlighted words are this week's vocabulary â€” tap them to learn more.</p>
                    </div>
                    <div class="info-divider"></div>
                    <div class="info-section">
                        <div class="info-label">Stories</div>
                        <ul class="info-story-list">
                            <li><span class="info-story-num">01</span> <span class="info-story-title">Welcome Home</span> â€” Maya meets Aria for the first time</li>
                            <li style="opacity:0.3"><span class="info-story-num">02</span> <span class="info-story-title">The 6 AM Shift</span> â€” Coming soon</li>
                            <li style="opacity:0.3"><span class="info-story-num">03</span> <span class="info-story-title">Firmware Update</span> â€” Coming soon</li>
                        </ul>
                    </div>
                    <div class="info-quote">
                        "Sometimes the distance between floors is easier to cross than the distance between people."
                        <span class="info-attribution">â€” Aria, The Confluence Building AI</span>
                    </div>
                    <p class="info-credits">Created by Saber Zou</p>
                </div>
            </div>
        </div>

        <!-- Vocab button (bottom-left) -->
        <button class="vocab-pill" aria-label="Vocabulary list" onclick="openVocabOverlay()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M12 2 L22 12 L12 22 L2 12 Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
            </svg>
        </button>

        <!-- Vocab overlay -->
        <div class="info-overlay" id="vocabOverlay">
            <div class="info-overlay-inner">
                <button class="info-close" onclick="closeVocabOverlay()" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <line x1="6" y1="6" x2="18" y2="18"/>
                        <line x1="18" y1="6" x2="6" y2="18"/>
                    </svg>
                </button>
                <div class="info-scroll" id="vocabContent">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>

        <!-- Quiz overlay -->
        <div class="quiz-overlay" id="quizOverlay">
            <div class="quiz-overlay-inner">
                <button class="quiz-close" onclick="closeQuizOverlay()" aria-label="Close quiz">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <line x1="6" y1="6" x2="18" y2="18"/>
                        <line x1="18" y1="6" x2="6" y2="18"/>
                    </svg>
                </button>
                <div class="quiz-overlay-scroll">
                    <div class="quiz-container" id="quizContainer">
                        <div class="quiz-header">
                            <div class="quiz-label">VOCABULARY CHECK</div>
                            <div class="quiz-progress"><span id="quizCurrent">1</span> / 5</div>
                        </div>
                        <div class="quiz-context" id="quizContext"></div>
                        <div class="quiz-question" id="quizQuestion"></div>
                        <div class="quiz-options" id="quizOptions"></div>
                    </div>
                    <div class="quiz-results" id="quizResults" hidden>
                        <div class="quiz-score-display">
                            <div class="quiz-score-number" id="quizScoreNum">0</div>
                            <div class="quiz-score-label">/ 5</div>
                        </div>
                        <div class="quiz-score-msg" id="quizScoreMsg"></div>
                        <div class="quiz-word-results" id="quizWordResults"></div>
                        <div class="quiz-actions">
                            <button class="quiz-btn" onclick="openVocabOverlay(); closeQuizOverlay();">Review vocabulary</button>
                            <button class="quiz-btn quiz-btn-secondary" onclick="retakeQuiz()">Try again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vocab tooltip -->
        <div class="vocab-tooltip" id="vocabTooltip" hidden>
            <div class="vocab-tooltip-word" id="tooltipWord"></div>
            <div class="vocab-tooltip-pron" id="tooltipPron"></div>
            <div class="vocab-tooltip-def" id="tooltipDef"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="grainient.js"></script>
    <script src="vocab.js"></script>
    <script src="script.js"></script>
</body>
</html>
